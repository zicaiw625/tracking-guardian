api_version = "2025-07"
type = "ui_extension"
name = "Tracking Guardian Blocks"
handle = "tracking-guardian-blocks"

# =============================================================================
# Survey Block - Thank You Page
# =============================================================================
# âš ï¸ é‡è¦ï¼šuid å¿…é¡»ç”± Shopify CLI åœ¨é¦–æ¬¡éƒ¨ç½²æ—¶è‡ªåŠ¨ç”Ÿæˆ
# å¦‚æœè¿™æ˜¯æ–°æ‰©å±•ï¼Œè¿è¡Œ `shopify app deploy` ä¼šè‡ªåŠ¨ç”Ÿæˆå¹¶å¡«å…… uid
# å¦‚æœ uid ç¼ºå¤±æˆ–æ— æ•ˆï¼Œä¼šå¯¼è‡´æ‰©å±•åˆ›å»º/æ›´æ–°å¤±è´¥
[[extensions]]
type = "ui_extension"
name = "Post-purchase Survey"
handle = "post-purchase-survey"
uid = "5bbce4d5-0610-0b76-fa6d-c6fef535cee9f855bf02"

  [extensions.capabilities]
  network_access = true

  [[extensions.targeting]]
  module = "./src/Survey.tsx"
  target = "purchase.thank-you.block.render"

# =============================================================================
# Survey Block - Order Status Page (Customer Account)
# =============================================================================
# âš ï¸ é‡è¦ï¼šuid å¿…é¡»ç”± Shopify CLI åœ¨é¦–æ¬¡éƒ¨ç½²æ—¶è‡ªåŠ¨ç”Ÿæˆ
[[extensions]]
type = "ui_extension"
name = "Order Status Survey"
handle = "order-status-survey"
uid = "47dc5576-827b-917a-6223-7c68db326d526075dfb3"

  [extensions.capabilities]
  network_access = true

  [[extensions.targeting]]
  module = "./src/Survey.orderStatus.tsx"
  target = "customer-account.order-status.block.render"

# =============================================================================
# Shipping Tracker Block - Thank You Page
# =============================================================================
[[extensions]]
type = "ui_extension"
name = "Shipping Progress Tracker"
handle = "shipping-tracker"
uid = "bef2635d-b17d-f9e5-c450-4597976fddffea5be910"

  [extensions.capabilities]
  network_access = true

  [[extensions.targeting]]
  module = "./src/ShippingTracker.tsx"
  target = "purchase.thank-you.block.render"

# =============================================================================
# Shipping Tracker Block - Order Status Page (Customer Account)
# =============================================================================
[[extensions]]
type = "ui_extension"
name = "Order Status Shipping Tracker"
handle = "order-status-shipping-tracker"
uid = "42c378fa-d787-9bb3-9f2d-ee152e6cf2f01a2bf2ea"

  [extensions.capabilities]
  network_access = true

  [[extensions.targeting]]
  module = "./src/ShippingTracker.orderStatus.tsx"
  target = "customer-account.order-status.block.render"

# =============================================================================
# Upsell Offer Block - Thank You Page
# =============================================================================
[[extensions]]
type = "ui_extension"
name = "Thank You Upsell Offer"
handle = "upsell-offer"
uid = "8ff9cced-1b31-c305-3b10-526580549f5e6864bc1a"

  [extensions.capabilities]
  network_access = false

  [[extensions.targeting]]
  module = "./src/UpsellOffer.tsx"
  target = "purchase.thank-you.block.render"

# =============================================================================
# Upsell Offer Block - Order Status Page (Customer Account)
# =============================================================================
[[extensions]]
type = "ui_extension"
name = "Order Status Upsell Offer"
handle = "order-status-upsell-offer"
uid = "d83854d0-2c3f-238c-9db2-263b144d459fed9be367"

  [extensions.capabilities]
  network_access = false

  [[extensions.targeting]]
  module = "./src/UpsellOffer.orderStatus.tsx"
  target = "customer-account.order-status.block.render"

# =============================================================================
# Support / FAQ Block - Thank You Page
# =============================================================================
[[extensions]]
type = "ui_extension"
name = "Support & FAQ"
handle = "support-faq"
uid = "bf27e557-efdf-d8dc-ad0f-650e438de7faadccb23b"

  [extensions.capabilities]
  network_access = false

  [[extensions.targeting]]
  module = "./src/Support.tsx"
  target = "purchase.thank-you.block.render"

# =============================================================================
# Support / FAQ Block - Order Status Page (Customer Account)
# =============================================================================
[[extensions]]
type = "ui_extension"
name = "Order Status Support & FAQ"
handle = "order-status-support-faq"
uid = "0aa738e0-79d9-076a-435f-5ad1ea813a9058225869"

  [extensions.capabilities]
  network_access = false

  [[extensions.targeting]]
  module = "./src/Support.orderStatus.tsx"
  target = "customer-account.order-status.block.render"

# =============================================================================
# Reorder Block - Thank You Page
# =============================================================================
# âš ï¸ é‡è¦ï¼šuid å¿…é¡»ç”± Shopify CLI åœ¨é¦–æ¬¡éƒ¨ç½²æ—¶è‡ªåŠ¨ç”Ÿæˆ
# 
# ç”ŸæˆçœŸå® uid çš„æ–¹æ³•ï¼ˆè¯¦è§ DEPLOYMENT.mdï¼‰ï¼š
#   1. è¿è¡Œ: shopify app deployï¼ˆæ¨èï¼Œè‡ªåŠ¨ç”Ÿæˆï¼‰
#   2. æˆ–è¿è¡Œ: shopify app generate extension
#      - é€‰æ‹© "ui_extension" ç±»å‹
#      - é€‰æ‹© "purchase.thank-you.block.render" target
#      - å°†ç”Ÿæˆçš„ uid æ›¿æ¢ä¸‹é¢çš„å ä½ç¬¦
#   3. æˆ–ä» Shopify Partners Dashboard è·å–å·²åˆ›å»ºæ‰©å±•çš„ uid
#
# âš ï¸ éƒ¨ç½²å‰å¿…é¡»æ›¿æ¢å ä½ç¬¦ uidï¼Œå¦åˆ™æ‰©å±•åˆ›å»ºä¼šå¤±è´¥
# =============================================================================
[[extensions]]
type = "ui_extension"
name = "Reorder Button"
handle = "reorder-button"
uid = "a1b2c3d4-e5f6-7890-abcd-ef1234567890abcdef01"  # âš ï¸ éƒ¨ç½²å‰å¿…é¡»æ›¿æ¢ä¸º Shopify CLI ç”Ÿæˆçš„çœŸå® uidï¼ˆè¯¦è§ DEPLOYMENT.mdï¼‰

  [extensions.capabilities]
  network_access = true

  [[extensions.targeting]]
  module = "./src/Reorder.tsx"
  target = "purchase.thank-you.block.render"

# =============================================================================
# Reorder Block - Order Status Page (Customer Account)
# =============================================================================
# âš ï¸ é‡è¦ï¼šuid å¿…é¡»ç”± Shopify CLI åœ¨é¦–æ¬¡éƒ¨ç½²æ—¶è‡ªåŠ¨ç”Ÿæˆ
# 
# ç”ŸæˆçœŸå® uid çš„æ–¹æ³•ï¼ˆè¯¦è§ DEPLOYMENT.mdï¼‰ï¼š
#   1. è¿è¡Œ: shopify app deployï¼ˆæ¨èï¼Œè‡ªåŠ¨ç”Ÿæˆï¼‰
#   2. æˆ–è¿è¡Œ: shopify app generate extension
#      - é€‰æ‹© "ui_extension" ç±»å‹
#      - é€‰æ‹© "customer-account.order-status.block.render" target
#      - å°†ç”Ÿæˆçš„ uid æ›¿æ¢ä¸‹é¢çš„å ä½ç¬¦
#   3. æˆ–ä» Shopify Partners Dashboard è·å–å·²åˆ›å»ºæ‰©å±•çš„ uid
#
# âš ï¸ éƒ¨ç½²å‰å¿…é¡»æ›¿æ¢å ä½ç¬¦ uidï¼Œå¦åˆ™æ‰©å±•åˆ›å»ºä¼šå¤±è´¥
# =============================================================================
[[extensions]]
type = "ui_extension"
name = "Order Status Reorder Button"
handle = "order-status-reorder-button"
uid = "b2c3d4e5-f6a7-8901-bcde-f234567890abcdef01234"  # âš ï¸ éƒ¨ç½²å‰å¿…é¡»æ›¿æ¢ä¸º Shopify CLI ç”Ÿæˆçš„çœŸå® uidï¼ˆè¯¦è§ DEPLOYMENT.mdï¼‰

  [extensions.capabilities]
  network_access = false

  [[extensions.targeting]]
  module = "./src/Reorder.orderStatus.tsx"
  target = "customer-account.order-status.block.render"

# =============================================================================
# Settings Schema
# =============================================================================
[settings]
  # Survey Settings
  [[settings.fields]]
  key = "survey_title"
  name = "Survey Title"
  description = "Title for the post-purchase survey"
  type = "single_line_text_field"
  
  [[settings.fields]]
  key = "survey_question"
  name = "Survey Question"
  description = "The question to ask customers"
  type = "single_line_text_field"

  # Shipping Tracker Settings (P0-3: æ”¹ä¸ºè®¢å•çŠ¶æ€å…¥å£ï¼Œä¸å†’å……çœŸå®ç‰©æµå·)
  [[settings.fields]]
  key = "shipping_title"
  name = "Shipping Tracker Title"
  description = "Title for the shipping progress section (e.g., 'è®¢å•çŠ¶æ€')"
  type = "single_line_text_field"

  [[settings.fields]]
  key = "shipping_tip_text"
  name = "Shipping Tip Text"
  description = "Helpful tip shown below the progress tracker"
  type = "single_line_text_field"

  # Upsell Offer Settings
  [[settings.fields]]
  key = "upsell_discount_code"
  name = "Discount Code"
  description = "The discount code to offer (e.g., THANKYOU10)"
  type = "single_line_text_field"

  [[settings.fields]]
  key = "upsell_discount_percent"
  name = "Discount Percentage"
  description = "Discount percentage (e.g., 10 for 10%)"
  type = "single_line_text_field"

  [[settings.fields]]
  key = "upsell_expiry_hours"
  name = "Offer Expiry Hours"
  description = "How many hours the offer is valid (e.g., 24)"
  type = "single_line_text_field"

  [[settings.fields]]
  key = "continue_shopping_url"
  name = "Continue Shopping URL"
  description = "URL to redirect when clicking 'Continue Shopping' (optional, defaults to store home)"
  type = "single_line_text_field"

  # Support / FAQ Settings
  [[settings.fields]]
  key = "support_title"
  name = "Support block title"
  description = "Heading for the support/FAQ block"
  type = "single_line_text_field"

  [[settings.fields]]
  key = "support_description"
  name = "Support block description"
  description = "Short description shown under the title"
  type = "single_line_text_field"

  [[settings.fields]]
  key = "support_contact_url"
  name = "Support contact URL"
  description = "Link to your helpdesk/contact page (mailto: also supported)"
  type = "single_line_text_field"

  [[settings.fields]]
  key = "support_contact_email"
  name = "Support email fallback"
  description = "Used to build mailto: link if contact URL is empty"
  type = "single_line_text_field"

  [[settings.fields]]
  key = "support_whatsapp_number"
  name = "WhatsApp Number"
  description = "WhatsApp contact number with country code (e.g., +8613800138000)"
  type = "single_line_text_field"

  [[settings.fields]]
  key = "support_messenger_url"
  name = "Facebook Messenger URL"
  description = "Facebook Messenger contact link (e.g., https://m.me/your-page)"
  type = "single_line_text_field"

  [[settings.fields]]
  key = "support_faq_url"
  name = "FAQ URL"
  description = "Link to your FAQ/knowledge base"
  type = "single_line_text_field"

  # Reorder Settings
  [[settings.fields]]
  key = "reorder_title"
  name = "Reorder Block Title"
  description = "Title for the reorder block (e.g., 'ğŸ“¦ å†æ¬¡è´­ä¹°')"
  type = "single_line_text_field"

  [[settings.fields]]
  key = "reorder_subtitle"
  name = "Reorder Block Subtitle"
  description = "Subtitle shown below the title"
  type = "single_line_text_field"

  [[settings.fields]]
  key = "reorder_button_text"
  name = "Reorder Button Text"
  description = "Text on the reorder button (e.g., 'å†æ¬¡è´­ä¹° â†’')"
  type = "single_line_text_field"

  [[settings.fields]]
  key = "reorder_show_items"
  name = "Show Items List"
  description = "Show the list of items from the order (true/false)"
  type = "single_line_text_field"

